<html>
  <head>    
    <script src="dist/asti.js"></script>
  </head>
  <body>
    <script>
      var asti = new ASTI('http://localhost:10000');
      /*
      asti.call('SIP/1000', 'default', '1000', '')
        .then(function (response) {
          return response.text();
        }).then(function (body) {
          document.body.innerHTML = body;
        });
      */
      var handler = function (evt) {
        console.log(evt);
      };

      asti.connect(function () {
        asti.subscribeAgentEvents({
          agent: 'SIP/S627dc26',
          onAgentConnect: handler,
          onAgentCalled: handler,
          onAgentComplete: handler,
          onAgentRingNoAnswer: handler,
          onAgentDump: handler,
          onAgentLogin: handler,
          onAgentLogoff: handler
        });
      });

    </script>
  </body>
</html>